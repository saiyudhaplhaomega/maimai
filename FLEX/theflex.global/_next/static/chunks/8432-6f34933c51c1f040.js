"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8432],{68432:function(e,t,s){s.d(t,{PropertyDetails:function(){return eD}});var a=s(57437),l=s(2265),r=s(99376),n=s(36805),i=s(27107),o=s(59121),d=s(83464),c=s(92451),m=s(57208),u=s(95805),x=s(91128),h=s(43299),f=s(14938),p=s(10407),g=s(91723),b=s(88906),j=s(95468),v=s(62945),y=s(54802),N=s(12527),w=s(97411),C=s(95080),D=s(51817),T=s(49322),E=s(32489),k=s(82718),S=s(79294),F=s(82638),M=s(26110),Z=s(94508),A=s(26902),P=s(81103),_=s(66070),z=s(19378),I=s(62869),U=s(62973),R=s(66927),W=s(89688),B=s(91818),L=s(97143),q=s(55901),O=s(26899),V=s(84286),K=s(13420),Y=s(62926),G=s(28870),H=s(28842),J=s(75177),$=s(34840),Q=s(19953);let X={"Hair Dryer":U.Z,Shower:R.Z,Iron:W.Z,"Washing Machine":B.Z,TV:L.Z,"Smart TV":q.Z,Heating:O.Z,"Smoke detector":V.Z,"Carbon Monoxide Detector":V.Z,Internet:K.Z,Wireless:Y.Z,"Free WiFi":Y.Z,Kitchen:G.Z,"Electric kettle":W.Z,Elevator:H.Z,"Paid parking":J.Z,"Portable fans":$.Z},ee=[{name:"Living room",icon:Q.Z,amenities:["Cable TV","Private living room"]},{name:"Bathroom",icon:h.Z,amenities:["Hair Dryer","Essentials","Shampoo","Shower","Tub","Towels","Hot water","Toilet","Body soap","Conditioner","Shower gel"]},{name:"Bedroom & laundry",icon:B.Z,amenities:["Washing Machine","Hangers","Iron","Iron board","Linens","Clothing storage"]},{name:"Entertainment",icon:q.Z,amenities:["TV","Smart TV"]},{name:"Heating and cooling",icon:O.Z,amenities:["Heating"]},{name:"Home safety",icon:V.Z,amenities:["Smoke detector","Carbon Monoxide Detector"]},{name:"Internet & office",icon:K.Z,amenities:["Internet","Wireless","Free WiFi"]},{name:"Kitchen & dining",icon:G.Z,amenities:["Kitchen","Toaster","Microwave","Oven","Electric kettle","Stove","Refrigerator","Kitchen utensils","Cooking basics","Dining area","Dining table","Freezer","Wine glasses"]},{name:"Parking & facilities",icon:J.Z,amenities:["Paid parking","Portable fans","Elevator"]}];var et=s(43502),es=s(95186),ea=s(26815),el=s(35153),er=s(76818),en=s(53647),ei=s(33245),eo=s(98108);let ed=[{code:"+44",country:"UK \uD83C\uDDEC\uD83C\uDDE7"},{code:"+33",country:"France \uD83C\uDDEB\uD83C\uDDF7"},{code:"+213",country:"Algeria \uD83C\uDDE9\uD83C\uDDFF"},{code:"+1",country:"USA \uD83C\uDDFA\uD83C\uDDF8"},{code:"+91",country:"India \uD83C\uDDEE\uD83C\uDDF3"},{code:"+86",country:"China \uD83C\uDDE8\uD83C\uDDF3"},{code:"+81",country:"Japan \uD83C\uDDEF\uD83C\uDDF5"},{code:"+49",country:"Germany \uD83C\uDDE9\uD83C\uDDEA"},{code:"+39",country:"Italy \uD83C\uDDEE\uD83C\uDDF9"},{code:"+34",country:"Spain \uD83C\uDDEA\uD83C\uDDF8"},{code:"+351",country:"Portugal \uD83C\uDDF5\uD83C\uDDF9"},{code:"+31",country:"Netherlands \uD83C\uDDF3\uD83C\uDDF1"},{code:"+32",country:"Belgium \uD83C\uDDE7\uD83C\uDDEA"},{code:"+41",country:"Switzerland \uD83C\uDDE8\uD83C\uDDED"},{code:"+46",country:"Sweden \uD83C\uDDF8\uD83C\uDDEA"},{code:"+47",country:"Norway \uD83C\uDDF3\uD83C\uDDF4"},{code:"+45",country:"Denmark \uD83C\uDDE9\uD83C\uDDF0"},{code:"+358",country:"Finland \uD83C\uDDEB\uD83C\uDDEE"},{code:"+48",country:"Poland \uD83C\uDDF5\uD83C\uDDF1"},{code:"+43",country:"Austria \uD83C\uDDE6\uD83C\uDDF9"}].sort((e,t)=>e.country.localeCompare(t.country));function ec(e){let{propertyName:t,isOpen:s,onClose:r,initialDates:n}=e,{toast:o}=(0,el.pm)(),[d,c]=(0,l.useState)(n),[m,u]=(0,l.useState)(!1),[x,h]=(0,l.useState)("+44"),[f,p]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),j=e=>e?/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?(b(""),!0):(b("Please enter a valid email address"),!1):(b("Email is required"),!1),v=async e=>{if(e.preventDefault(),!j(f))return;u(!0);let s=new FormData(e.currentTarget),a="".concat(x).concat(s.get("phone")),l={propertyName:t,firstName:s.get("firstName"),lastName:s.get("lastName"),email:f,phone:a,checkIn:(null==d?void 0:d.from)?(0,i.WU)(d.from,"yyyy-MM-dd"):"",checkOut:(null==d?void 0:d.to)?(0,i.WU)(d.to,"yyyy-MM-dd"):"",specialRequirements:s.get("specialRequirements")};try{if(!(await fetch("/api/send-inquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"sid@theflexliving.com",subject:"New Inquiry for ".concat(t),...l})})).ok)throw Error("Failed to send inquiry");o({title:"Inquiry Sent Successfully! \uD83C\uDF89",description:"We will get back to you as soon as possible."}),r()}catch(e){o({title:"Error",description:"Failed to send inquiry. Please try again.",variant:"destructive"})}finally{u(!1)}};return(0,a.jsx)(M.Vq,{open:s,onOpenChange:r,children:(0,a.jsxs)(M.cZ,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(M.fK,{children:[(0,a.jsx)(M.$N,{className:"text-2xl",children:(0,a.jsx)(eo.Text,{children:"Send Inquiry"})}),(0,a.jsx)(M.Be,{children:(0,a.jsx)(eo.Text,{children:"Fill out the form below and we'll get back to you shortly"})})]}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6 mt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ea._,{htmlFor:"firstName",children:(0,a.jsx)(eo.Text,{children:"First Name"})}),(0,a.jsx)(es.I,{id:"firstName",name:"firstName",placeholder:"John",required:!0,className:"bg-gray-50 border-0"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ea._,{htmlFor:"lastName",children:(0,a.jsx)(eo.Text,{children:"Last Name"})}),(0,a.jsx)(es.I,{id:"lastName",name:"lastName",placeholder:"Doe",required:!0,className:"bg-gray-50 border-0"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ea._,{htmlFor:"email",children:(0,a.jsx)(eo.Text,{children:"Email"})}),(0,a.jsx)(es.I,{id:"email",name:"email",type:"email",value:f,onChange:e=>{p(e.target.value),j(e.target.value)},placeholder:"john@example.com",required:!0,className:(0,Z.cn)("bg-gray-50 border-0",g&&"border-red-500 focus-visible:ring-red-500")}),g&&(0,a.jsxs)("p",{className:"text-sm text-red-500 flex items-center gap-1 mt-1",children:[(0,a.jsx)(ei.Z,{className:"h-4 w-4"}),g]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ea._,{htmlFor:"phone",children:(0,a.jsx)(eo.Text,{children:"Phone Number"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(en.Ph,{value:x,onValueChange:h,children:[(0,a.jsx)(en.i4,{className:"w-[140px] bg-[#e4f1f0] border-0",children:(0,a.jsx)(en.ki,{placeholder:"Select country"})}),(0,a.jsx)(en.Bw,{children:ed.map(e=>(0,a.jsxs)(en.Ql,{value:e.code,className:"hover:bg-[#e4f1f0] focus:bg-[#e4f1f0]",children:[e.country," (",e.code,")"]},e.code))})]}),(0,a.jsx)(es.I,{id:"phone",name:"phone",type:"tel",placeholder:"Phone number",required:!0,className:"bg-gray-50 border-0"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(ea._,{children:(0,a.jsx)(eo.Text,{children:"Stay Dates"})}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,a.jsx)(eo.Text,{children:"(Optional)"})})]}),(0,a.jsx)(et.D,{date:d,onSelect:c,className:"[&>button]:bg-gray-50 [&>button]:border-0"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(ea._,{htmlFor:"specialRequirements",children:(0,a.jsx)(eo.Text,{children:"Special Requirements"})}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,a.jsx)(eo.Text,{children:"(Optional)"})})]}),(0,a.jsx)(er.g,{id:"specialRequirements",name:"specialRequirements",placeholder:"Any special requests or requirements...",className:"min-h-[100px] bg-gray-50 border-0"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)(I.z,{type:"button",variant:"outline",onClick:r,className:"bg-gray-50",children:(0,a.jsx)(eo.Text,{children:"Cancel"})}),(0,a.jsx)(I.z,{type:"submit",disabled:m,className:"bg-primary text-white",children:(0,a.jsx)(eo.Text,{children:m?"Sending...":"Send Inquiry"})})]})]})]})})}var em=s(2141),eu=s(31047),ex=s(76858),eh=s(2207),ef=s(21047),ep=s(99397),eg=s(63409);function eb(e){let{property:t,selectedDates:s,onDateSelect:r,guestCount:n,onGuestChange:o,totalPrice:d,formatPrice:c,onBookNow:m,onSendInquiry:x,disabledDays:h,datePickerLimits:f,bookingCalculation:p}=e,[g,b]=(0,l.useState)(!1),[j,v]=(0,l.useState)(!0),[y,N]=(0,l.useState)(0),[C,D]=(0,l.useState)(!1),[T,E]=(0,l.useState)(s);(0,l.useEffect)(()=>{let e;let t=()=>{let t=window.scrollY;clearTimeout(e),e=setTimeout(()=>{t>y&&t>150?j&&(D(!0),v(!1),setTimeout(()=>D(!1),300)):(t<y||t<=100)&&!j&&(D(!0),v(!0),setTimeout(()=>D(!1),300)),N(t)},10)};return window.addEventListener("scroll",t,{passive:!0}),()=>{window.removeEventListener("scroll",t),clearTimeout(e)}},[y,j]),(0,l.useEffect)(()=>{E(s)},[s]);let S=(null==s?void 0:s.from)&&(null==s?void 0:s.to)?Math.ceil((s.to.getTime()-s.from.getTime())/864e5):null,F=!(null==s?void 0:s.from)||!(null==s?void 0:s.to),A=()=>{E(s),b(!0),"vibrate"in navigator&&navigator.vibrate(50)},P=()=>{n<t.personCapacity&&(o(n+1),"vibrate"in navigator&&navigator.vibrate(30))},_=()=>{n>1&&(o(n-1),"vibrate"in navigator&&navigator.vibrate(30))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:(0,Z.cn)("md:hidden fixed bottom-0 left-0 right-0 z-50 transition-all duration-300 ease-out",j?"translate-y-0":"translate-y-full",C&&"transition-transform"),style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"}),(0,a.jsxs)("div",{className:"mx-3 mb-3 rounded-3xl shadow-2xl border border-gray-200/30 backdrop-blur-md relative overflow-hidden",style:{backgroundColor:"rgba(255, 253, 246, 0.95)"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),F?(0,a.jsxs)("div",{className:"p-5 relative",children:[(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#333333] leading-tight",children:(0,a.jsx)(eo.Text,{children:"When are you staying?"})}),(0,a.jsx)("p",{className:"text-sm text-[#5C5C5A] mt-1 leading-relaxed",children:(0,a.jsx)(eo.Text,{children:"Select your check-in and check-out dates"})})]}),(0,a.jsx)("div",{className:"ml-3 p-2 bg-[#284E4C]/10 rounded-full",children:(0,a.jsx)(eu.Z,{className:"h-5 w-5 text-[#284E4C]"})})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(I.z,{variant:"outline",className:"w-full h-14 justify-between text-left border-2 border-[#284E4C]/20 hover:border-[#284E4C] hover:bg-[#284E4C]/5 text-[#333333] font-medium rounded-2xl transition-all duration-200 active:scale-[0.98]",onClick:A,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(eu.Z,{className:"h-5 w-5 mr-3 text-[#284E4C]"}),(0,a.jsx)("div",{className:"text-left",children:(null==s?void 0:s.from)?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:(0,i.WU)(s.from,"MMM d")}),(null==s?void 0:s.to)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex.Z,{className:"h-4 w-4 text-[#5C5C5A]"}),(0,a.jsx)("span",{className:"font-medium",children:(0,i.WU)(s.to,"MMM d")})]})]}):(0,a.jsx)("span",{className:"text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Select dates"})})})]}),(0,a.jsx)(eh.Z,{className:"h-4 w-4 text-[#5C5C5A]"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-[#333333] block",children:(0,a.jsx)(eo.Text,{children:"Guests"})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl border-2 border-[#284E4C]/20 p-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-[#284E4C]/10 rounded-full",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-semibold text-[#333333]",children:[n," ",(0,a.jsxs)(eo.Text,{children:["guest",n>1?"s":""]})]}),(0,a.jsx)("div",{className:"text-xs text-[#5C5C5A]",children:(0,a.jsxs)(eo.Text,{children:["Maximum ",t.personCapacity]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(I.z,{variant:"outline",size:"icon",onClick:_,disabled:n<=1,className:"h-10 w-10 rounded-full border-2 border-[#284E4C]/20 hover:border-[#284E4C] hover:bg-[#284E4C]/5 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200 active:scale-95",children:(0,a.jsx)(ef.Z,{className:"h-4 w-4 text-[#284E4C]"})}),(0,a.jsx)("div",{className:"min-w-[3rem] text-center",children:(0,a.jsx)("span",{className:"text-xl font-bold text-[#333333]",children:n})}),(0,a.jsx)(I.z,{variant:"outline",size:"icon",onClick:P,disabled:n>=t.personCapacity,className:"h-10 w-10 rounded-full border-2 border-[#284E4C]/20 hover:border-[#284E4C] hover:bg-[#284E4C]/5 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200 active:scale-95",children:(0,a.jsx)(ep.Z,{className:"h-4 w-4 text-[#284E4C]"})})]})]})})]})]})]}):(0,a.jsxs)("div",{className:"p-5 relative",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#5C5C5A] mb-2 flex-wrap",children:[(0,a.jsx)("span",{className:"font-medium",children:(0,i.WU)(s.from,"MMM d")}),(0,a.jsx)(ex.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"font-medium",children:(0,i.WU)(s.to,"MMM d")}),(0,a.jsx)("span",{className:"text-[#284E4C]",children:"•"}),(0,a.jsxs)("span",{className:"font-medium",children:[n," ",(0,a.jsxs)(eo.Text,{children:["guest",n>1?"s":""]})]})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-[#333333] leading-none",children:c(p?p.finalTotal:d||0)}),(0,a.jsx)("span",{className:"text-sm text-[#5C5C5A] font-medium",children:(0,a.jsxs)(eo.Text,{children:["for ",S," night",1!==S?"s":""]})})]}),((null==p?void 0:p.lengthOfStayDiscount)>0||(null==p?void 0:p.couponDiscount)>0)&&(0,a.jsxs)("div",{className:"inline-flex items-center gap-1 bg-emerald-50 text-emerald-700 text-xs font-medium px-2 py-1 rounded-full",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB0"}),(0,a.jsx)("span",{children:(0,a.jsxs)(eo.Text,{children:["You saved ",c(((null==p?void 0:p.lengthOfStayDiscount)||0)+((null==p?void 0:p.couponDiscount)||0))]})})]})]}),(0,a.jsx)(I.z,{variant:"ghost",size:"sm",onClick:A,className:"text-[#284E4C] hover:bg-[#284E4C]/10 px-3 py-2 rounded-xl transition-all duration-200 active:scale-95 ml-3 flex-shrink-0","aria-label":"Edit dates and guests",children:(0,a.jsx)(eh.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(I.z,{onClick:m,className:"flex-1 h-12 bg-[#284E4C] hover:bg-[#284E4C]/90 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 active:scale-[0.98] rounded-xl","aria-label":"Book now for ".concat(c(p?p.finalTotal:d||0)),children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 mr-2"}),(0,a.jsx)(eo.Text,{children:"Book Now"})]}),(0,a.jsx)(I.z,{variant:"outline",onClick:x,className:"h-12 px-4 border-2 border-[#284E4C]/20 text-[#284E4C] hover:bg-[#284E4C]/5 hover:border-[#284E4C] transition-all duration-200 active:scale-[0.98] rounded-xl","aria-label":"Send inquiry about this property",children:(0,a.jsx)(k.Z,{className:"h-5 w-5"})})]})]})]})]}),(0,a.jsx)(M.Vq,{open:g,onOpenChange:b,children:(0,a.jsxs)(M.cZ,{className:"max-w-sm mx-auto rounded-3xl border-0 shadow-2xl p-0 overflow-hidden max-h-[90vh] flex flex-col",style:{backgroundColor:"#FFFDF6"},children:[(0,a.jsxs)(M.fK,{className:"p-6 pb-4 bg-gradient-to-br from-[#284E4C]/5 to-transparent flex-shrink-0",children:[(0,a.jsx)(M.$N,{className:"text-xl font-semibold text-[#333333] text-center",children:(0,a.jsx)(eo.Text,{children:"Select your dates"})}),(0,a.jsx)("p",{className:"text-sm text-[#5C5C5A] text-center mt-1",children:(0,a.jsx)(eo.Text,{children:"Choose your perfect stay dates"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6 pt-2 space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:(0,a.jsx)(eg.f,{mode:"range",selected:T,onSelect:e=>{E(e)},disabled:h,fromDate:f.fromDate,toDate:f.toDate,numberOfMonths:1,className:"w-full",classNames:{months:"flex flex-col space-y-4",month:"space-y-4 w-full",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 border border-gray-200 rounded-md",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex w-full",head_cell:"text-gray-500 rounded-md w-full font-normal text-[0.8rem] flex-1 text-center",row:"flex w-full mt-2",cell:"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 flex-1",day:"h-10 w-full p-0 font-normal relative transition-colors duration-200 hover:bg-[#284E4C]/10 hover:text-gray-900 rounded-md",day_selected:"bg-[#284E4C] text-white hover:bg-[#284E4C]/90 hover:text-white focus:bg-[#284E4C] focus:text-white",day_today:"bg-gray-100 text-gray-900 font-semibold",day_outside:"text-gray-400 opacity-50",day_disabled:"text-gray-300 opacity-50 line-through cursor-not-allowed",day_range_middle:"bg-[#284E4C]/20 text-gray-900 hover:bg-[#284E4C]/30",day_range_start:"bg-[#284E4C] text-white rounded-l-md",day_range_end:"bg-[#284E4C] text-white rounded-r-md"}})}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 shadow-sm",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-[#333333] block mb-4",children:(0,a.jsx)(eo.Text,{children:"Number of Guests"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-[#284E4C]/10 rounded-full",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-semibold text-[#333333]",children:[n," ",(0,a.jsxs)(eo.Text,{children:["guest",n>1?"s":""]})]}),(0,a.jsx)("div",{className:"text-xs text-[#5C5C5A]",children:(0,a.jsxs)(eo.Text,{children:["Maximum ",t.personCapacity]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(I.z,{variant:"outline",size:"icon",onClick:_,disabled:n<=1,className:"h-10 w-10 rounded-full border-2 border-[#284E4C]/20 hover:border-[#284E4C] hover:bg-[#284E4C]/5 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200 active:scale-95",children:(0,a.jsx)(ef.Z,{className:"h-4 w-4 text-[#284E4C]"})}),(0,a.jsx)("div",{className:"min-w-[3rem] text-center",children:(0,a.jsx)("span",{className:"text-xl font-bold text-[#333333]",children:n})}),(0,a.jsx)(I.z,{variant:"outline",size:"icon",onClick:P,disabled:n>=t.personCapacity,className:"h-10 w-10 rounded-full border-2 border-[#284E4C]/20 hover:border-[#284E4C] hover:bg-[#284E4C]/5 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200 active:scale-95",children:(0,a.jsx)(ep.Z,{className:"h-4 w-4 text-[#284E4C]"})})]})]})]})]})}),(0,a.jsx)("div",{className:"p-6 pt-0 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(I.z,{variant:"outline",onClick:()=>{E(s),b(!1)},className:"flex-1 h-12 border-2 border-[#284E4C]/20 text-[#284E4C] hover:bg-[#284E4C]/5 rounded-xl font-medium transition-all duration-200",children:(0,a.jsx)(eo.Text,{children:"Cancel"})}),(0,a.jsx)(I.z,{onClick:()=>{(null==T?void 0:T.from)&&(null==T?void 0:T.to)&&(r(T),b(!1))},disabled:!(null==T?void 0:T.from)||!(null==T?void 0:T.to),className:"flex-1 h-12 bg-[#284E4C] hover:bg-[#284E4C]/90 text-white font-semibold rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(eo.Text,{children:"Confirm"})})]})})]})})]})}var ej=s(71762),ev=s(24456),ey=s(37277),eN=s(27648),ew=s(42936);function eC(e){let[t,s,a]=e.split("-").map(Number);return new Date(t,s-1,a,12,0,0)}function eD(e){var t;let{property:s}=e,U=(0,r.useRouter)(),R=(0,r.useSearchParams)(),W=(0,r.usePathname)(),{formatAmount:B,convertAmount:L,currency:q}=(0,S.U)(),{toast:O}=(0,el.pm)(),{getTranslatedText:V}=(0,ew.M1)(),[K,Y]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{var e;let t=await d.Z.get("/api/listings/".concat(s.id,"/hostaway"),{params:{city:s.city}});if(null===(e=t.data.result)||void 0===e?void 0:e.currencyCode){let e=t.data.result.currencyCode;Y(e)}else{console.warn("No currency code found in Hostaway response");let e={London:"GBP",Paris:"GBP",Algiers:"GBP"}[s.city]||"GBP";Y(e)}}catch(e){console.error("Failed to fetch Hostaway details:",e),Y({London:"GBP",Paris:"GBP",Algiers:"GBP"}[s.city]||"GBP")}})()},[s.id,s.city]);let G=(0,l.useCallback)(e=>B(e,"GBP"),[B]),H=null==R?void 0:R.get("from"),J=null==R?void 0:R.get("to"),$=null==R?void 0:R.get("guests"),[Q,er]=(0,l.useState)(!1),[ei,ed]=(0,l.useState)(0),[eu,ex]=(0,l.useState)(),[eh,ef]=(0,l.useState)(H&&J?{from:eC(H),to:eC(J)}:void 0),[ep,eg]=(0,l.useState)($?parseInt($):1),[eD,eT]=(0,l.useState)([]),[eE,ek]=(0,l.useState)([]),[eS,eF]=(0,l.useState)(!1),[eM,eZ]=(0,l.useState)(null),[eA,eP]=(0,l.useState)(null),[e_,ez]=(0,l.useState)(null),[eI,eU]=(0,l.useState)(!1),[eR,eW]=(0,l.useState)(""),[eB,eL]=(0,l.useState)(null),[eq,eO]=(0,l.useState)(!1),[eV,eK]=(0,l.useState)(null),[eY,eG]=(0,l.useState)([]),[eH,eJ]=(0,l.useState)(null),{translatedText:e$}=(0,ev.l)("Enter code");(0,l.useEffect)(()=>{if(s&&K)try{if(window._learnq){let e=new Date,t=e.getTime(),a=e.toISOString().split("T")[0],l=window.location.href,r=s.images&&s.images.length>0?s.images[0].url:"",n=Math.round(s.monthPrice/30),i=L(n,K,q);window._learnq.push(["track","Viewed Product",{$event_id:"viewedproduct_".concat(a,"_").concat(t,"_").concat(s.id),ProductName:s.listingName,ProductID:s.id.toString(),SKU:s.id.toString(),Categories:[s.city],ImageURL:r,URL:l,Brand:"The Flex",Price:i,CompareAtPrice:i,ProductCategories:[s.city],ProductURL:l}])}}catch(e){console.error('Error firing Klaviyo "Viewed Product" tracking:',e)}},[s,K,L,q]),(0,l.useEffect)(()=>{eu&&eu.on("select",()=>{ed(eu.selectedScrollSnap())})},[eu]);let eQ=(0,l.useMemo)(()=>s.amenities?"string"==typeof s.amenities?JSON.parse(s.amenities):s.amenities:[],[s.amenities]);G(Math.round(s.monthPrice/30));let[eX,e0]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{if(!(null==eh?void 0:eh.from)||!(null==eh?void 0:eh.to)){eJ(null);return}try{let e=await d.Z.post("/api/bookings/calculate",{propertyId:s.id,fromDate:(null==eh?void 0:eh.from)?(0,i.WU)(eh.from,"yyyy-MM-dd"):void 0,toDate:(null==eh?void 0:eh.to)?(0,i.WU)(eh.to,"yyyy-MM-dd"):void 0,cleaningFee:s.cleaningFee,nativeCurrency:K||"USD",couponCode:null==eB?void 0:eB.code});eJ(e.data),ez(e.data.baseTotal)}catch(e){console.error("Failed to calculate prices:",e),O({title:"Error",description:"Failed to calculate prices. Please try again.",variant:"destructive"})}})()},[eh,s.id,s.cleaningFee,K,eB]),(0,l.useEffect)(()=>{(async()=>{try{eF(!0);let{data:e}=await d.Z.get("/api/listings/".concat(s.id,"/calendars"),{params:{city:s.city}});e&&Array.isArray(e.data)?(ek(e.data),e.data.reduce((e,t)=>(t.isAvailable?e.available++:e.unavailable++,e),{available:0,unavailable:0})):(console.warn("[PropertyDetails] Calendar API returned invalid data structure:",e),ek([]))}catch(s){if(console.error("[PropertyDetails] Failed to fetch calendar:",s),d.Z.isAxiosError(s)){var e,t,a;console.error("[PropertyDetails] Calendar API error details:",{status:null===(e=s.response)||void 0===e?void 0:e.status,statusText:null===(t=s.response)||void 0===t?void 0:t.statusText,data:null===(a=s.response)||void 0===a?void 0:a.data})}ek([])}finally{eF(!1)}})()},[s.id,s.city]);let e3=(0,l.useMemo)(()=>{if(!eE||0===eE.length)return{fromDate:new Date,toDate:(0,o.E)(new Date,365)};let e=eE.map(e=>new Date(e.date)).sort((e,t)=>e.getTime()-t.getTime()),t=e[0],s=e[e.length-1],a=new Date;return a.setHours(0,0,0,0),{fromDate:t>a?t:a,toDate:s}},[eE]),e2=(0,l.useMemo)(()=>{new Date().setHours(0,0,0,0);let e=new Map((Array.isArray(eE)?eE:[]).map(e=>[e.date.split("T")[0],e])),t=[],s=Array.from({length:365},(e,t)=>{let s=new Date;return s.setDate(s.getDate()-t-1),s});t.push(...s);let a=e3.fromDate,l=e3.toDate,r=new Date(a),n=[],i=!1;for(;r<=l;){let s=r.toISOString().split("T")[0],a=e.get(s),l=a&&a.isAvailable&&a.availableUnitsToSell>0;if(!l){let[e,a,l]=s.split("-").map(Number),r=new Date(Date.UTC(e,a-1,l));t.push(r),i&&n.push(r)}i=l,r=(0,o.E)(r,1)}let d=new Set(n.map(e=>e.getTime()));return t.filter(e=>!d.has(e.getTime()))},[eE,e3]),e4=(e,t)=>{let a=Array.isArray(eE)?eE:[],l=(0,i.WU)(e,"yyyy-MM-dd"),r=a.find(e=>e.date===l);return r?Math.ceil((t.getTime()-e.getTime())/864e5)>=r.minStay:(console.warn("[isDateRangeValid] No calendar data found for start date: ".concat(l)),Math.ceil((t.getTime()-e.getTime())/864e5)>=(s.minStay||1))},e5=async e=>{if(eP(null),ef(e),null==e?void 0:e.from){eZ(e.from);let t=Array.isArray(eE)?eE:[],a=(0,i.WU)(e.from,"yyyy-MM-dd"),l=t.find(e=>e.date===a),r=(null==l?void 0:l.minStay)||s.minStay||1;eP("Minimum stay: ".concat(r," nights"))}else eZ(null);if((null==e?void 0:e.from)&&(null==e?void 0:e.to)){if(!e4(e.from,e.to)){let t=Array.isArray(eE)?eE:[],a=(0,i.WU)(e.from,"yyyy-MM-dd"),l=t.find(e=>e.date===a),r=(null==l?void 0:l.minStay)||s.minStay||1;O({title:"Minimum Stay Required",description:"This property requires a minimum stay of ".concat(r," nights for the selected check-in date."),variant:"destructive"}),ef({from:e.from,to:void 0});return}let t=Array.isArray(eE)?eE:[],a=new Date(e.from),l=!1;for(;a<e.to;){let e=(0,i.WU)(a,"yyyy-MM-dd"),s=t.find(t=>t.date===e);if(!s||!s.isAvailable||s.availableUnitsToSell<1){l=!0;break}a=(0,o.E)(a,1)}if(l){O({title:"Dates Unavailable",description:"Some of your selected dates are not available. Please choose different dates.",variant:"destructive"}),ef(void 0),eZ(null);return}try{let t=await d.Z.post("/api/bookings/calculate",{propertyId:s.id,fromDate:(0,i.WU)(e.from,"yyyy-MM-dd"),toDate:(0,i.WU)(e.to,"yyyy-MM-dd"),cleaningFee:s.cleaningFee,nativeCurrency:K||"USD",couponCode:null==eB?void 0:eB.code});eJ(t.data),ez(t.data.baseTotal)}catch(e){console.error("Failed to calculate prices:",e),O({title:"Error",description:"Failed to calculate prices. Please try again.",variant:"destructive"})}}},[e1,e8]=(0,l.useState)(!1),e6=(null==eh?void 0:eh.from)&&(null==eh?void 0:eh.to)?Math.ceil((eh.to.getTime()-eh.from.getTime())/864e5):null,e9=(0,l.useCallback)(e=>{let t=new URLSearchParams(R.toString());Object.entries(e).forEach(e=>{let[s,a]=e;a?t.set(s,a):t.delete(s)}),window.history.replaceState({},"","".concat(W).concat(t.toString()?"?".concat(t.toString()):""))},[W,R]);(0,l.useCallback)(()=>eB&&e_?"percentage"===eB.discount_type?e_*eB.discount_value/100:eB.discount_value:0,[eB,e_]);let e7=(0,l.useCallback)(async()=>{if(!eR.trim())return;let e=(null==eh?void 0:eh.from)&&(null==eh?void 0:eh.to)?Math.ceil((eh.to.getTime()-eh.from.getTime())/864e5):null;if(!e){O({title:"Select Dates First",description:"Please select your stay dates before applying a coupon",variant:"destructive"});return}eO(!0),eK(null);try{let t=await d.Z.post("/api/validate-coupon",{code:eR,nights:e});if(t.data.isValid&&t.data.coupon){eL(t.data.coupon),eW("");let e=await d.Z.post("/api/bookings/calculate",{propertyId:s.id,fromDate:(0,i.WU)(eh.from,"yyyy-MM-dd"),toDate:(0,i.WU)(eh.to,"yyyy-MM-dd"),cleaningFee:s.cleaningFee,nativeCurrency:K||"USD",couponCode:t.data.coupon.code});eJ(e.data),ez(e.data.baseTotal),O({title:"Coupon Applied!",description:"percentage"===t.data.coupon.discount_type?"".concat(t.data.coupon.discount_value,"% discount applied"):"".concat(G(t.data.coupon.discount_value)," discount applied")})}}catch(s){var t,a;let e=(null===(a=s.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to validate coupon";eK(e),eL(null),O({title:"Invalid Coupon",description:e,variant:"destructive"})}finally{eO(!1)}},[eR,eh,s.id,s.cleaningFee,K,O,G]),te=(0,l.useCallback)(async()=>{if((null==eh?void 0:eh.from)&&(null==eh?void 0:eh.to))try{let e=await d.Z.post("/api/bookings/calculate",{propertyId:s.id,fromDate:(0,i.WU)(eh.from,"yyyy-MM-dd"),toDate:(0,i.WU)(eh.to,"yyyy-MM-dd"),cleaningFee:s.cleaningFee,nativeCurrency:K||"USD"});eJ(e.data),ez(e.data.baseTotal),eL(null),eW(""),eK(null),O({title:"Coupon removed",description:"The discount has been removed from your booking."})}catch(e){console.error("Failed to recalculate prices:",e),O({title:"Error",description:"Failed to update prices. Please try again.",variant:"destructive"})}},[eh,s.id,s.cleaningFee,K,O]);(0,l.useEffect)(()=>{let e=null==R?void 0:R.get("coupon");if(e&&!eB&&(null==eh?void 0:eh.from)&&(null==eh?void 0:eh.to)){eW(e);let t=Math.ceil((eh.to.getTime()-eh.from.getTime())/864e5);(async()=>{try{eO(!0);let s=await d.Z.post("/api/validate-coupon",{code:e,nights:t});s.data.isValid&&s.data.coupon?eL(s.data.coupon):(e9({coupon:void 0}),eW(""))}catch(e){console.error("Failed to validate coupon:",e),e9({coupon:void 0}),eW("")}finally{eO(!1)}})()}},[R,eB,eh,e9]),(0,l.useEffect)(()=>{(async()=>{try{let{data:e,error:t}=await em.O.from("length_of_stay_discounts").select("*").eq("is_active",!0).order("nights",{ascending:!0});if(t){console.error("Error fetching length of stay discounts:",t);return}eG(e||[])}catch(e){console.error("Error fetching length of stay discounts:",e)}})()},[]);let tt=async()=>{if((null==eh?void 0:eh.from)&&(null==eh?void 0:eh.to)&&eH)try{let e=new URLSearchParams({propertyId:s.id.toString(),from:(0,i.WU)(eh.from,"yyyy-MM-dd"),to:(0,i.WU)(eh.to,"yyyy-MM-dd"),guests:ep.toString(),nativeCurrency:K||"USD",totalPrice:eH.baseTotal.toString(),finalPrice:eH.finalTotal.toString()});eB&&e.set("couponCode",eB.code);let t=(0,n.mS)(W),a=t&&"en"!==t?"/".concat(t,"/checkout?").concat(e.toString()):"/checkout?".concat(e.toString());U.push(a)}catch(e){console.error("Failed to process booking:",e),O({title:"Error",description:"Failed to process booking. Please try again.",variant:"destructive"})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"container mx-auto max-w-7xl px-3 md:px-4",style:{backgroundColor:"#FFFDF6"},children:[(0,a.jsx)("div",{className:"py-2 md:py-4",children:(0,a.jsx)("div",{className:"flex items-center text-sm text-[#5C5C5A] mb-4 md:hidden",children:(0,a.jsxs)(I.z,{variant:"ghost",size:"sm",onClick:()=>U.back(),className:"p-0 h-auto text-[#5C5C5A] hover:text-[#333333]",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Back"]})})}),s.images&&s.images.length>0&&(0,a.jsxs)("div",{className:"relative mb-8 md:mb-12",children:[(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(A.lr,{opts:{align:"center",loop:!0},setApi:ex,className:"w-full",children:[(0,a.jsx)(A.KI,{children:s.images.map((e,t)=>(0,a.jsx)(A.d$,{children:(0,a.jsx)(F.o,{ratio:4/3,className:"rounded-2xl overflow-hidden",children:(0,a.jsx)("img",{src:e.url,alt:"".concat(s.listingName," - Image ").concat(t+1),className:"w-full h-full object-cover"})})},e.imageId))}),(0,a.jsx)(A.am,{className:"left-4 bg-white/90 hover:bg-white border-0 shadow-lg"}),(0,a.jsx)(A.Pz,{className:"right-4 bg-white/90 hover:bg-white border-0 shadow-lg"})]}),(0,a.jsxs)(I.z,{onClick:()=>er(!0),variant:"outline",size:"sm",className:"absolute bottom-4 left-4 bg-white/90 hover:bg-white border-0 shadow-lg backdrop-blur-sm",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"View all"]}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-black/60 text-white px-3 py-1.5 rounded-full text-sm font-medium backdrop-blur-sm",children:[ei+1," / ",s.images.length]})]})}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 grid-rows-2 gap-4 h-[600px]",children:[(0,a.jsxs)("div",{className:"col-span-2 row-span-2 relative cursor-pointer group",onClick:()=>{ed(0),er(!0)},children:[(0,a.jsx)("img",{src:s.images[0].url,alt:"".concat(s.listingName," - Main"),className:"w-full h-full object-cover rounded-l-xl"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-all duration-200 rounded-l-xl"})]}),s.images.slice(1,5).map((e,t)=>(0,a.jsxs)("div",{className:"relative cursor-pointer group",onClick:()=>{ed(t+1),er(!0)},children:[(0,a.jsx)("img",{src:e.url,alt:"".concat(s.listingName," - Image ").concat(t+2),className:(0,Z.cn)("w-full h-full object-cover",2===t?"rounded-tr-xl":"",4===t?"rounded-br-xl":"")}),(0,a.jsx)("div",{className:(0,Z.cn)("absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-all duration-200",2===t?"rounded-tr-xl":"",4===t?"rounded-br-xl":"")})]},e.imageId)),(0,a.jsxs)("button",{onClick:()=>er(!0),className:"absolute bottom-6 right-6 bg-white text-gray-800 px-4 py-2 rounded-lg shadow-lg hover:bg-gray-100 transition-colors duration-200 flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),"View all photos"]})]})})]}),(0,a.jsxs)("div",{className:"mb-8 md:mb-12",children:[(0,a.jsxs)("div",{className:"md:hidden space-y-4",children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-[#333333] leading-tight mb-2",children:(0,a.jsx)(eo.Text,{children:s.listingName})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 rounded-2xl p-4",style:{backgroundColor:"#FFFDF6"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-xl shadow-sm",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold text-[#333333] block",children:s.personCapacity}),(0,a.jsx)("span",{className:"text-sm text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"guests"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-xl shadow-sm",children:(0,a.jsx)(x.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold text-[#333333] block",children:s.totalBedrooms}),(0,a.jsx)("span",{className:"text-sm text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"bedrooms"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-xl shadow-sm",children:(0,a.jsx)(h.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold text-[#333333] block",children:s.totalBathrooms}),(0,a.jsx)("span",{className:"text-sm text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"bathrooms"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-xl shadow-sm",children:(0,a.jsx)(f.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold text-[#333333] block",children:s.totalBeds}),(0,a.jsx)("span",{className:"text-sm text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"beds"})})]})]})]})]}),(0,a.jsxs)("div",{className:"hidden md:block",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-[#333333]",children:(0,a.jsx)(eo.Text,{children:s.listingName})}),(0,a.jsx)("div",{className:"flex items-center gap-8 border-b border-gray-200 pb-8",children:(0,a.jsxs)(P.pn,{children:[(0,a.jsxs)(P.u,{children:[(0,a.jsx)(P.aJ,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-[#5C5C5A]"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:s.personCapacity}),(0,a.jsx)("span",{className:"text-[#5C5C5A] block",children:(0,a.jsx)(eo.Text,{children:"guests"})})]})]})}),(0,a.jsx)(P._v,{children:"Maximum number of guests allowed"})]}),(0,a.jsxs)(P.u,{children:[(0,a.jsx)(P.aJ,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(x.Z,{className:"h-5 w-5 text-[#5C5C5A]"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:s.totalBedrooms}),(0,a.jsx)("span",{className:"text-[#5C5C5A] block",children:(0,a.jsx)(eo.Text,{children:"bedrooms"})})]})]})}),(0,a.jsx)(P._v,{children:"Number of bedrooms"})]}),(0,a.jsxs)(P.u,{children:[(0,a.jsx)(P.aJ,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(h.Z,{className:"h-5 w-5 text-[#5C5C5A]"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:s.totalBathrooms}),(0,a.jsx)("span",{className:"text-[#5C5C5A] block",children:(0,a.jsx)(eo.Text,{children:"bathrooms"})})]})]})}),(0,a.jsx)(P._v,{children:"Number of bathrooms"})]}),(0,a.jsxs)(P.u,{children:[(0,a.jsx)(P.aJ,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(f.Z,{className:"h-5 w-5 text-[#5C5C5A]"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:s.totalBeds}),(0,a.jsx)("span",{className:"text-[#5C5C5A] block",children:(0,a.jsx)(eo.Text,{children:"beds"})})]})]})}),(0,a.jsx)(P._v,{children:"Total number of beds"})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-8 mb-20 md:mb-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)(_.Zb,{className:"mb-8 p-6 bg-white border-0 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"About this property"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-[#5C5C5A] whitespace-pre-line leading-relaxed",children:e1?(0,a.jsx)(eo.Text,{children:s.description}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo.Text,{children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return e.length<=t?e:e.slice(0,t).trim()+"..."}(s.description)}),s.description.length>300&&(0,a.jsx)(I.z,{variant:"link",className:"text-[#284E4C] hover:text-[#284E4C]/90 p-0 h-auto inline ml-2",onClick:()=>e8(!0),children:(0,a.jsx)(eo.Text,{children:"Read more"})})]})}),e1&&s.description.length>300&&(0,a.jsx)(I.z,{variant:"link",className:"text-[#284E4C] hover:text-[#284E4C]/90 p-0 h-auto",onClick:()=>e8(!1),children:(0,a.jsx)(eo.Text,{children:"Show less"})})]})]}),eQ.length>0&&(0,a.jsxs)(_.Zb,{className:"p-6 mb-12 bg-white border-0 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Amenities"})}),(0,a.jsxs)(M.Vq,{children:[(0,a.jsx)(M.hg,{asChild:!0,children:(0,a.jsxs)(I.z,{variant:"outline",className:"flex items-center gap-2 border-[#284E4C]/20 text-[#284E4C] hover:bg-[#284E4C]/5",children:[(0,a.jsx)(eo.Text,{children:"View all amenities"}),(0,a.jsx)(p.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(M.cZ,{className:"max-w-2xl max-h-[80vh]",style:{backgroundColor:"#FFFDF6"},children:[(0,a.jsx)(M.fK,{children:(0,a.jsx)(M.$N,{className:"text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"All amenities"})})}),(0,a.jsx)(z.x,{className:"h-[60vh] pr-4",children:(0,a.jsx)("div",{className:"space-y-6",children:Array.from(function(e){let t=new Map,s=[];return e.forEach(e=>{let{amenityName:a}=e,l=!1;for(let e of ee)if(e.amenities.includes(a)){var r;t.has(e.name)||t.set(e.name,[]),null===(r=t.get(e.name))||void 0===r||r.push(a),l=!0;break}l||s.push(a)}),s.length>0&&t.set("Other",s),t}(eQ)).map(e=>{let[t,s]=e,l=ee.find(e=>e.name===t),r=null==l?void 0:l.icon;return(0,a.jsxs)("div",{className:"pb-6 border-b last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,a.jsx)(r,{className:"h-5 w-5 text-[#5C5C5A]"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-[#333333]",children:(0,a.jsx)(eo.Text,{children:t})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[#5C5C5A]",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-[#284E4C] rounded-full"}),(0,a.jsx)("span",{className:"capitalize",children:(0,a.jsx)(eo.Text,{children:e})})]},e))})]},t)})})})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:eQ.slice(0,9).map(e=>{let t=function(e){if(X[e])return X[e];let t=ee.find(t=>t.amenities.includes(e));return null==t?void 0:t.icon}(e.amenityName);return(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[#5C5C5A]",children:[t&&(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(t,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"capitalize",children:(0,a.jsx)(eo.Text,{children:e.amenityName})})]},e.amenityName)})})]}),(0,a.jsxs)(_.Zb,{className:"p-6 mb-8 bg-white border-0 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Stay Policies"})}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-[#F1F3EE] rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(g.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Check-in & Check-out"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Check-in time"})}),(0,a.jsx)("p",{className:"font-semibold text-lg text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"3:00 PM"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Check-out time"})}),(0,a.jsx)("p",{className:"font-semibold text-lg text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"10:00 AM"})})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#F1F3EE] rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(b.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"House Rules"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-lg p-4",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5 text-[#5C5C5A]"}),(0,a.jsx)("p",{className:"font-medium text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"No smoking"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-lg p-4",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-[#5C5C5A]"}),(0,a.jsx)("p",{className:"font-medium text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"No pets"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-lg p-4",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 text-[#5C5C5A]"}),(0,a.jsx)("p",{className:"font-medium text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"No parties or events"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-lg p-4",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-[#5C5C5A]"}),(0,a.jsx)("p",{className:"font-medium text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Security deposit required"})})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#F1F3EE] rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-full",children:(0,a.jsx)(N.Z,{className:"h-5 w-5 text-[#284E4C]"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Cancellation Policy"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium mb-2 text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"For stays less than 28 days"})}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-[#5C5C5A]",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-[#284E4C] rounded-full mt-1.5 flex-shrink-0"}),(0,a.jsx)("p",{children:(0,a.jsx)(eo.Text,{children:"Full refund up to 14 days before check-in"})})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-[#5C5C5A] mt-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-[#284E4C] rounded-full mt-1.5 flex-shrink-0"}),(0,a.jsx)("p",{children:(0,a.jsx)(eo.Text,{children:"No refund for bookings less than 14 days before check-in"})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium mb-2 text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"For stays of 28 days or more"})}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-[#5C5C5A]",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-[#284E4C] rounded-full mt-1.5 flex-shrink-0"}),(0,a.jsx)("p",{children:(0,a.jsx)(eo.Text,{children:"Full refund up to 30 days before check-in"})})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm text-[#5C5C5A] mt-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-[#284E4C] rounded-full mt-1.5 flex-shrink-0"}),(0,a.jsx)("p",{children:(0,a.jsx)(eo.Text,{children:"No refund for bookings less than 30 days before check-in"})})]})]})]})]})]})]}),(0,a.jsxs)(_.Zb,{className:"p-6 mb-8 bg-white border-0 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Location"})}),(0,a.jsx)("div",{className:"w-full h-[400px] md:h-[500px] rounded-xl overflow-hidden",children:(0,a.jsx)(ey.V,{properties:[s],formatPrice:G,selectedProperty:s,disableInfoWindow:!0})})]}),(0,a.jsx)("div",{className:"mb-8 text-left",children:(()=>{let e=(0,n.mS)(W),t=s.city.toLowerCase(),l=(()=>{try{let e=V("property_anchors.".concat(t));if(Array.isArray(e)&&e.length>0)return e}catch(e){}return["".concat(V("common.furnished_apartments_in")," ").concat(s.city)]})(),r=parseInt(s.id)%l.length,i=l[r],o=e&&"en"!==e?"/".concat(e,"/short-term-rentals/").concat(t):"/short-term-rentals/".concat(t),d="fr"===e&&("paris"===t||"algiers"===t)?V("common.discover_more")||"D\xe9couvrez plus":V("common.browse_more");return(0,a.jsxs)("span",{className:"text-[#284E4C]",children:[d," ",(0,a.jsx)(eN.default,{href:o,className:"text-[#284E4C] hover:text-[#284E4C]/80 transition-colors underline underline-offset-2",children:i})]})})()})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(_.Zb,{className:"sticky top-24 overflow-hidden bg-white dark:bg-gray-800 border-0 shadow-lg rounded-2xl",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[#284E4C]"}),(0,a.jsxs)("div",{className:"relative p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#FFFFFF] mb-1",children:(0,a.jsx)(eo.Text,{children:"Book your stay"})}),(0,a.jsx)("p",{className:"text-sm text-[#D2DADA]",children:(0,a.jsx)(eo.Text,{children:"Select dates to see the total price"})})]})]}),(0,a.jsxs)("div",{className:"p-6 pt-4",children:[(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(et.D,{date:eh,onSelect:e5,disabled:e2,fromDate:e3.fromDate,toDate:e3.toDate,className:"[&>button]:w-full [&>button]:justify-start [&>button]:text-left [&>button]:h-[42px] [&>button]:bg-[#F1F3EE] [&>button]:border-0 [&>button]:shadow-sm [&>button]:hover:bg-[#FFFDF6] [&>button]:rounded-l-md [&>button]:rounded-r-none"})}),(0,a.jsx)("div",{className:"w-[120px]",children:(0,a.jsxs)(en.Ph,{value:ep.toString(),onValueChange:e=>eg(parseInt(e)),children:[(0,a.jsx)(en.i4,{className:"h-[42px] bg-[#F1F3EE] border-0 shadow-sm hover:bg-[#FFFDF6] transition-colors text-[#333333] rounded-l-none rounded-r-md","aria-label":"Select number of guests",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(en.ki,{placeholder:"Guests"})]})}),(0,a.jsx)(en.Bw,{children:Array.from({length:s.personCapacity},(e,t)=>t+1).map(e=>(0,a.jsx)(en.Ql,{value:String(e),children:e},e))})]})})]})}),(null==eh?void 0:eh.from)&&(null==eh?void 0:eh.to)?(0,a.jsxs)("div",{className:"mt-0",children:[(0,a.jsxs)("div",{className:"space-y-1 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Check-in"})}),(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:(0,ej.k2)(eh.from)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Check-out"})}),(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:(0,ej.k2)(eh.to)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Guests"})}),(0,a.jsxs)("span",{className:"font-medium text-[#333333]",children:[ep," ",(0,a.jsx)(eo.Text,{children:"guests"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[#5C5C5A]",children:(0,a.jsxs)(eo.Text,{children:["Base price (",null!=e6?e6:"-"," nights)"]})}),(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:eH?G(eH.baseTotal):"-"})]}),eH&&"number"==typeof eH.lengthOfStayDiscount&&eH.lengthOfStayDiscount>0&&(0,a.jsxs)("div",{className:"flex justify-between items-center bg-gradient-to-r from-green-50/30 to-green-100/30 p-3 rounded-lg border border-green-100/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-green-100 rounded-full",children:(0,a.jsx)(w.Z,{className:"h-3.5 w-3.5 text-green-600"})}),(0,a.jsx)("span",{className:"text-green-700 text-sm font-medium",children:(0,a.jsxs)(eo.Text,{children:[null===(t=eH.lengthOfStayDiscounts.find(e=>(null!=e6?e6:0)>=e.nights))||void 0===t?void 0:t.percentage,"% length of stay discount"]})})]}),(0,a.jsxs)("span",{className:"font-medium text-green-700",children:["-",G(eH.lengthOfStayDiscount||0)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[#5C5C5A]",children:(0,a.jsx)(eo.Text,{children:"Cleaning fee"})}),(0,a.jsx)("span",{className:"font-medium text-[#333333]",children:G(s.cleaningFee)})]}),eB?(0,a.jsxs)("div",{className:"flex justify-between items-center bg-[#284E4C]/5 p-3 rounded-lg border border-[#284E4C]/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-[#284E4C]/10 rounded-full",children:(0,a.jsx)(C.Z,{className:"h-3.5 w-3.5 text-[#284E4C]"})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-[#284E4C] text-sm font-medium",children:eB.code})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"font-medium text-[#284E4C]",children:["-",G((null==eH?void 0:eH.couponDiscount)||0)]}),(0,a.jsx)(I.z,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full hover:bg-[#284E4C]/10",onClick:te,children:(0,a.jsx)(E.Z,{className:"h-4 w-4 text-[#284E4C]"})})]})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ea._,{htmlFor:"coupon-input",className:"text-sm text-[#284E4C] flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 text-[#284E4C]"}),(0,a.jsx)(eo.Text,{children:"Have a coupon code?"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(es.I,{id:"coupon-input",type:"text",placeholder:e$,value:eR,onChange:e=>{eW(e.target.value.toUpperCase()),eV&&eK(null)},onKeyDown:e=>{"Enter"===e.key&&eR.trim()&&e7()},className:(0,Z.cn)("pr-20 bg-[#F1F3EE] border-[#284E4C]/10 shadow-sm transition-all duration-200 focus-visible:ring-[#284E4C]/20 focus-visible:border-[#284E4C]/30 text-[#333333]",eV?"border-destructive/50 focus:border-destructive focus:ring-destructive/20":"hover:border-[#FFFDF6]/20",eq&&"opacity-50"),disabled:eq}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:(0,a.jsx)(I.z,{type:"button",variant:"ghost",size:"sm",className:(0,Z.cn)("h-7 px-3 mr-1 font-medium transition-all",eq?"text-[#5C5C5A]":"text-[#284E4C] hover:text-[#284E4C]/80"),onClick:e7,disabled:eq||!eR.trim(),children:eq?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(D.Z,{className:"h-3 w-3 animate-spin"}),(0,a.jsx)("span",{children:(0,a.jsx)(eo.Text,{children:"Validating..."})})]}):(0,a.jsx)(eo.Text,{children:"Apply"})})})]}),eV&&(0,a.jsxs)("div",{className:"bg-destructive/5 rounded-lg p-3 flex items-start gap-2",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Invalid coupon"}),(0,a.jsx)("p",{className:"text-sm text-destructive/90",children:eV})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[(0,a.jsx)("span",{className:"font-semibold text-lg text-[#333333]",children:(0,a.jsx)(eo.Text,{children:"Total"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"font-bold text-lg text-[#333333]",children:eH?G(eH.finalTotal):"-"}),((null==eH?void 0:eH.lengthOfStayDiscount)>0||(null==eH?void 0:eH.couponDiscount)>0)&&(0,a.jsx)("div",{className:"text-xs text-[#284E4C] mt-0.5",children:(0,a.jsxs)(eo.Text,{children:["You saved ",G(((null==eH?void 0:eH.lengthOfStayDiscount)||0)+((null==eH?void 0:eH.couponDiscount)||0))]})})]})]}),(0,a.jsxs)("div",{className:"space-y-2 pt-6",children:[(0,a.jsxs)(I.z,{className:"w-full bg-[#284E4C] hover:bg-[#284E4C]/90 text-white shadow-lg hover:shadow-xl transition-all duration-200",size:"lg",onClick:tt,children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(eo.Text,{children:"Book Now"})]}),(0,a.jsxs)(I.z,{variant:"outline",className:"w-full border-[#284E4C]/20 text-[#284E4C] hover:bg-[#284E4C]/5 hover:border-[#284E4C]/30",size:"lg",onClick:()=>eU(!0),children:[(0,a.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(eo.Text,{children:"Send Inquiry"})]})]})]})]}):(0,a.jsxs)("div",{className:"space-y-3 pt-6",children:[(0,a.jsxs)(I.z,{className:"w-full bg-[#284E4C] hover:bg-[#284E4C]/90 text-white shadow-lg hover:shadow-xl transition-all duration-200",size:"lg",disabled:!(null==eh?void 0:eh.to),children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(eo.Text,{children:"Check availability"})]}),(0,a.jsxs)(I.z,{variant:"outline",className:"w-full border-[#284E4C]/20 text-[#284E4C] hover:bg-[#284E4C]/5 hover:border-[#284E4C]/30",size:"lg",onClick:()=>eU(!0),children:[(0,a.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(eo.Text,{children:"Send Inquiry"})]})]}),(0,a.jsx)("p",{className:"text-sm text-[#5C5C5A] text-center mt-4",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"h-3 w-3"}),(0,a.jsx)(eo.Text,{children:"Instant confirmation"})]})})]})]})})]})]}),(0,a.jsx)(eb,{property:s,selectedDates:eh,onDateSelect:e5,guestCount:ep,onGuestChange:eg,totalPrice:e_,formatPrice:G,onBookNow:tt,onSendInquiry:()=>eU(!0),disabledDays:e2,datePickerLimits:e3,bookingCalculation:eH}),(0,a.jsx)(M.Vq,{open:Q,onOpenChange:er,children:(0,a.jsx)(M.cZ,{className:"max-w-full h-full md:max-w-[85vw] md:h-[90vh] p-0 gap-0 bg-black/95 border-none flex flex-col",children:(0,a.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 md:p-4 text-white bg-black/50 backdrop-blur-sm flex-shrink-0",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium",children:[ei+1," / ",s.images.length]})}),(0,a.jsx)("button",{onClick:()=>er(!1),className:"rounded-full p-2 hover:bg-white/10 transition-colors",children:(0,a.jsx)(E.Z,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"flex-1 relative flex items-center justify-center p-2 md:p-4 overflow-hidden",children:(0,a.jsxs)(A.lr,{opts:{align:"center",loop:!0,startIndex:ei},setApi:ex,className:"w-full max-w-5xl mx-auto",children:[(0,a.jsx)(A.KI,{children:s.images.map((e,t)=>(0,a.jsx)(A.d$,{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"relative w-full h-full max-h-[65vh] md:max-h-[70vh]",children:(0,a.jsx)("img",{src:e.url,alt:"".concat(s.listingName," - Image ").concat(t+1),className:"w-full h-full object-contain select-none mx-auto"})})},e.imageId))}),(0,a.jsx)(A.am,{className:"h-10 w-10 md:h-12 md:w-12 left-2 md:left-4 border-none bg-black/50 hover:bg-black/75 text-white",variant:"outline"}),(0,a.jsx)(A.Pz,{className:"h-10 w-10 md:h-12 md:w-12 right-2 md:right-4 border-none bg-black/50 hover:bg-black/75 text-white",variant:"outline"})]})}),(0,a.jsx)("div",{className:"p-2 md:p-4 bg-black/50 backdrop-blur-sm flex-shrink-0",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 max-w-full mx-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent",children:s.images.map((e,t)=>(0,a.jsx)("button",{onClick:()=>{ed(t),null==eu||eu.scrollTo(t)},className:(0,Z.cn)("relative flex-shrink-0 w-16 h-16 md:w-20 md:h-20 rounded-lg overflow-hidden transition-all duration-200",ei===t?"ring-2 ring-white":"opacity-50 hover:opacity-100"),children:(0,a.jsx)("img",{src:e.url,alt:"Thumbnail ".concat(t+1),className:"w-full h-full object-cover"})},e.imageId))})})]})})}),(0,a.jsx)(ec,{propertyName:s.listingName,isOpen:eI,onClose:()=>eU(!1),initialDates:eh})]})}},37277:function(e,t,s){s.d(t,{V:function(){return y}});var a=s(57437),l=s(2265),r=s(91964),n=s(8450),i=s(7310),o=s.n(i),d=s(99376),c=s(36805),m=s(96797),u=s(42936),x=s(97920),h=s(43299),f=s(95805);let p={width:"100%",height:"100%"},g={london:{lat:51.5074,lng:-.1278},paris:{lat:48.8566,lng:2.3522},algiers:{lat:36.7538,lng:3.0588},lisbon:{lat:38.7223,lng:-9.1393}},b={lat:51.5074,lng:-.1278},j="#284E4C",v=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#fff9e9"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#fff9e9"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#d8f2c4"},{lightness:21}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{lightness:29},{weight:.2}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit.station",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{color:"#333333"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#cae8f2"},{lightness:17}]}];function y(e){var t,s;let{properties:i,onMarkerClick:y,selectedProperty:N,formatPrice:w=(e,t)=>"".concat(e),onBoundsChanged:C,disableInfoWindow:D=!1}=e,T=(0,d.useParams)();(0,d.useRouter)();let E=(0,d.usePathname)(),{isLoaded:k,loadError:S}=(0,r.Db)({googleMapsApiKey:"AIzaSyADEv_BhmFoht8_TwlG0jJD53KIPu7blaI"});S&&console.error("[PropertyMap] Google Maps load error:",S);let[F,M]=(0,l.useState)(null),[Z,A]=(0,l.useState)(null),P=(0,l.useRef)([]),_=(0,l.useRef)(null),z=(0,l.useRef)(null),{translateBatch:I,currentLanguage:U}=(0,m.m)(),{getTranslatedText:R}=(0,u.M1)(),[W,B]=(0,l.useState)(i),[L,q]=(0,l.useState)(!1),O=new URLSearchParams(window.location.search),V=O.get("from"),K=O.get("to"),Y=V&&K;(0,l.useEffect)(()=>{if(B(i),"en"===U||0===i.length)return;let e=setTimeout(async()=>{q(!0);try{let e=i.flatMap(e=>[e.listingName,e.city]),t=await I(e),s=i.map((e,s)=>({...e,translatedListingName:t[2*s]||e.listingName,translatedCity:t[2*s+1]||e.city}));B(s)}catch(e){console.error("Error translating map property data:",e)}finally{q(!1)}},100);return()=>clearTimeout(e)},[i,U,I]);let G=e=>{let t=(0,c.mS)(E),s=t&&"en"!==t?"/".concat(t,"/property/").concat(e):"/property/".concat(e),a=new URLSearchParams(window.location.search),l=new URLSearchParams;a.has("from")&&l.set("from",a.get("from")),a.has("to")&&l.set("to",a.get("to")),a.has("guests")&&l.set("guests",a.get("guests")),a.has("minPrice")&&l.set("minPrice",a.get("minPrice")),a.has("maxPrice")&&l.set("maxPrice",a.get("maxPrice")),a.has("bedrooms")&&l.set("bedrooms",a.get("bedrooms")),a.has("bathrooms")&&l.set("bathrooms",a.get("bathrooms")),a.has("amenities")&&l.set("amenities",a.get("amenities"));let r=l.toString();return r?"".concat(s,"?").concat(r):s},H=(e,t)=>{let s=G(e.id);t&&(t.ctrlKey||t.metaKey||1===t.button)?window.open(s,"_blank","noopener,noreferrer"):window.location.href=s},J=(0,l.useCallback)(()=>{var e;let t=null==T?void 0:null===(e=T.city)||void 0===e?void 0:e.toString().toLowerCase();return t&&g[t]?g[t]:b},[null==T?void 0:T.city]),$=(0,l.useCallback)(o()(e=>{C&&C(e)},100),[C]);(0,l.useEffect)(()=>{if(F){let t=J();if(F.setCenter(t),0===i.length){var e;let t=null==T?void 0:null===(e=T.city)||void 0===e?void 0:e.toString().toLowerCase();F.setZoom("lisbon"===t?13:11)}}},[F,null==T?void 0:T.city,J,i.length]),(0,l.useEffect)(()=>{if(!F)return;P.current.forEach(e=>e.setMap(null)),P.current=[],_.current&&_.current.clearMarkers();let e=W.map(e=>{let t=e.listingUnits||1,s=t>1,a=Math.min(Math.max(3*t,30),50),l=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:F,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:j,fillOpacity:s?.9:1,strokeWeight:s?2:1.5,strokeColor:"#ffffff",scale:s?a/2:10},label:s?{text:String(t),color:"#ffffff",fontSize:"13px",fontWeight:"600",fontFamily:"Inter, sans-serif"}:void 0,zIndex:t});return l.unitCount=t,l.addListener("click",()=>{D||A(e),null==y||y(e),F.panTo({lat:e.lat,lng:e.lng});let t=F.getZoom()||10;t<13&&F.setZoom(Math.min(t+2,13))}),l});P.current=e,_.current=new n.XL({map:F,markers:e,renderer:{render:e=>{let{position:t,markers:s}=e,a=(s||[]).reduce((e,t)=>e+(t.unitCount||1),0);return new google.maps.Marker({position:t,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:j,fillOpacity:.9,strokeWeight:2,strokeColor:"#ffffff",scale:Math.min(Math.max(3*a,30),60)/2},label:{text:String(a),color:"#ffffff",fontSize:"14px",fontWeight:"600",fontFamily:"Inter, sans-serif"}})}}});let t=F.getBounds();t&&$(t)},[F,W,y,$]),(0,l.useEffect)(()=>()=>{z.current&&google.maps.event.removeListener(z.current),$.cancel()},[$]);let Q=(0,l.useCallback)(e=>{M(e);let t=J();if(e.setCenter(t),i.length>0){let t=new google.maps.LatLngBounds;i.forEach(e=>{t.extend({lat:e.lat,lng:e.lng})}),e.fitBounds(t,{top:50,right:50,bottom:50,left:50});let s=google.maps.event.addListener(e,"bounds_changed",()=>{e.getZoom()&&e.getZoom()>14&&e.setZoom(14),google.maps.event.removeListener(s)})}z.current=e.addListener("bounds_changed",()=>{let t=e.getBounds();t&&$(t)})},[i,$,J]),X=(0,l.useCallback)(()=>{M(null)},[]);return((0,l.useEffect)(()=>{N&&(A(N),F&&(F.panTo({lat:N.lat,lng:N.lng}),13>(F.getZoom()||10)&&F.setZoom(13)))},[N,F]),S)?(0,a.jsx)("div",{className:"text-red-500",children:"Error loading maps. Please check the API key and network connection."}):k?(0,a.jsx)("div",{className:"relative w-full h-full",ref:e=>console.log("[PropertyMap] Map container dimensions:",null==e?void 0:e.getBoundingClientRect()),children:(0,a.jsx)(r.b6,{mapContainerStyle:p,center:J(),zoom:(null==T?void 0:null===(t=T.city)||void 0===t?void 0:t.toString().toLowerCase())==="lisbon"?13:11,onLoad:Q,onUnmount:X,options:{disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},scrollwheel:!0,minZoom:8,maxZoom:18,styles:v},children:Z&&!D&&(0,a.jsx)(r.kp,{position:{lat:Z.lat,lng:Z.lng},onCloseClick:()=>A(null),children:(0,a.jsxs)("a",{href:G(Z.id),onClick:e=>{e.preventDefault(),H(Z,e)},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),H(Z,e)},onMouseDown:e=>{1===e.button&&(e.preventDefault(),H(Z,e))},className:"block p-3 max-w-xs cursor-pointer hover:bg-gray-50 transition-colors duration-200 rounded-lg touch-manipulation",style:{backgroundColor:"#FFFDF6",minWidth:"280px"},children:[(0,a.jsx)("img",{src:(null===(s=Z.images[0])||void 0===s?void 0:s.url)||"",alt:Z.listingName,className:"w-full h-40 object-cover rounded-lg mb-3 shadow-sm"}),(0,a.jsx)("h3",{className:"font-semibold text-base mb-2 leading-tight",style:{color:"#333333"},children:Z.translatedListingName||Z.listingName}),(0,a.jsx)("p",{className:"text-sm mb-3",style:{color:"#5C5C5A"},children:Z.translatedCity||Z.city}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3 text-xs",style:{color:"#5C5C5A"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{className:"font-medium",children:[Z.totalBedrooms||0," ",R(1===(Z.totalBedrooms||0)?"property.bedroom":"property.bedrooms")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{className:"font-medium",children:[Z.totalBathrooms||0," ",R(1===(Z.totalBathrooms||0)?"property.bathroom":"property.bathrooms")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"font-medium",children:R("property.up_to_guests").replace("{count}",String(Z.personCapacity||Z.guestsAllowed||1))})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-base font-semibold",style:{color:"#284E4C"},children:Y&&Z.calculatedPrice?w(Z.calculatedPrice,Z.currency)+" "+R("property.total"):Y&&Z.calendarData&&Z.calendarData.length>0?w(Z.calendarData.reduce((e,t)=>e+t.price,0),Z.currency)+" "+R("property.total"):w(Math.round(Z.monthPrice/30),Z.currency)+" "+R("property.per_night")}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"#284E4C20",color:"#284E4C"},children:R("property.view_details")})]})]})})})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Loading maps..."})})}},82638:function(e,t,s){s.d(t,{o:function(){return a}});let a=s(31653).f},63409:function(e,t,s){s.d(t,{f:function(){return p}});var a=s(57437);s(2265);var l=s(92451),r=s(10407),n=s(66935),i=s(94508),o=s(62869),d=s(96797),c=s(48467),m=s(93292),u=s(35815),x=s(48123);let h=e=>({fr:c.fr,es:m.es,ar:u.ar,zh:x.U})[e],f=e=>{let t={en:{labelMonthDropdown:()=>"Month",labelYearDropdown:()=>"Year",labelNext:()=>"Next month",labelPrevious:()=>"Previous month"},fr:{labelMonthDropdown:()=>"Mois",labelYearDropdown:()=>"Ann\xe9e",labelNext:()=>"Mois suivant",labelPrevious:()=>"Mois pr\xe9c\xe9dent"},es:{labelMonthDropdown:()=>"Mes",labelYearDropdown:()=>"A\xf1o",labelNext:()=>"Mes siguiente",labelPrevious:()=>"Mes anterior"},ar:{labelMonthDropdown:()=>"الشهر",labelYearDropdown:()=>"السنة",labelNext:()=>"الشهر التالي",labelPrevious:()=>"الشهر السابق"},zh:{labelMonthDropdown:()=>"月份",labelYearDropdown:()=>"年份",labelNext:()=>"下个月",labelPrevious:()=>"上个月"}};return t[e]||t.en};function p(e){let{className:t,classNames:s,showOutsideDays:c=!0,...m}=e,{currentLanguage:u}=(0,d.m)(),x=h(u),p=f(u);return(0,a.jsx)(n._W,{showOutsideDays:c,className:(0,i.cn)("p-3",t),locale:x,labels:p,fixedWeeks:!0,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,o.d)({variant:"outline"}),"h-8 w-8 bg-transparent p-0 opacity-70 hover:opacity-100 touch-manipulation select-none"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,i.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 touch-manipulation","range"===m.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,i.cn)((0,o.d)({variant:"ghost"}),"h-10 w-10 p-0 font-normal relative select-none touch-manipulation","transition-colors duration-200 min-h-[40px] min-w-[40px]","hover:bg-[#284E4C]/10 hover:text-gray-900","aria-selected:opacity-100 aria-selected:bg-[#284E4C] aria-selected:text-white","aria-disabled:opacity-50 aria-disabled:cursor-not-allowed aria-disabled:line-through","[&.day-range-start]:rounded-l-md [&.day-range-end]:rounded-r-md","[&.day-range-middle]:bg-[#284E4C]/20"),day_range_start:"day-range-start bg-[#284E4C] text-white",day_range_end:"day-range-end bg-[#284E4C] text-white",day_selected:"bg-[#284E4C] text-white hover:bg-[#284E4C]/90 hover:text-white focus:bg-[#284E4C] focus:text-white",day_today:"bg-gray-100 text-gray-900 font-semibold",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50 line-through pointer-events-none",day_range_middle:"aria-selected:bg-[#284E4C]/20 aria-selected:text-gray-900",day_hidden:"invisible",...s},components:{IconLeft:()=>(0,a.jsx)(l.Z,{className:"h-4 w-4"}),IconRight:()=>(0,a.jsx)(r.Z,{className:"h-4 w-4"})},...m})}p.displayName="Calendar"},66070:function(e,t,s){s.d(t,{Zb:function(){return n}});var a=s(57437),l=s(2265),r=s(94508);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})}).displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},26902:function(e,t,s){s.d(t,{KI:function(){return x},Pz:function(){return p},am:function(){return f},d$:function(){return h},lr:function(){return u}});var a=s(57437),l=s(2265),r=s(9467),n=s(32660),i=s(76858),o=s(94508),d=s(62869);let c=l.createContext(null);function m(){let e=l.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let u=l.forwardRef((e,t)=>{let{orientation:s="horizontal",opts:n,setApi:i,plugins:d,className:m,children:u,...x}=e,[h,f]=(0,r.Z)({...n,axis:"horizontal"===s?"x":"y"},d),[p,g]=l.useState(!1),[b,j]=l.useState(!1),v=l.useCallback(e=>{e&&(g(e.canScrollPrev()),j(e.canScrollNext()))},[]),y=l.useCallback(()=>{null==f||f.scrollPrev()},[f]),N=l.useCallback(()=>{null==f||f.scrollNext()},[f]),w=l.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),N())},[y,N]);return l.useEffect(()=>{f&&i&&i(f)},[f,i]),l.useEffect(()=>{if(f)return v(f),f.on("reInit",v),f.on("select",v),()=>{null==f||f.off("select",v)}},[f,v]),(0,a.jsx)(c.Provider,{value:{carouselRef:h,api:f,opts:n,orientation:s||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:N,canScrollPrev:p,canScrollNext:b},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:w,className:(0,o.cn)("relative",m),role:"region","aria-roledescription":"carousel",...x,children:u})})});u.displayName="Carousel";let x=l.forwardRef((e,t)=>{let{className:s,...l}=e,{carouselRef:r,orientation:n}=m();return(0,a.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",s),...l})})});x.displayName="CarouselContent";let h=l.forwardRef((e,t)=>{let{className:s,...l}=e,{orientation:r}=m();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,o.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",s),...l})});h.displayName="CarouselItem";let f=l.forwardRef((e,t)=>{let{className:s,variant:l="outline",size:r,...i}=e,{orientation:c,scrollPrev:u,canScrollPrev:x}=m();return(0,a.jsxs)(d.z,{ref:t,variant:l,size:r,className:(0,o.cn)("absolute h-8 w-8 rounded-full p-0","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!x,onClick:u,...i,children:[(0,a.jsx)(n.Z,{className:"h-4 w-4",strokeWidth:2.5}),(0,a.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});f.displayName="CarouselPrevious";let p=l.forwardRef((e,t)=>{let{className:s,variant:l="outline",size:r,...n}=e,{orientation:c,scrollNext:u,canScrollNext:x}=m();return(0,a.jsxs)(d.z,{ref:t,variant:l,size:r,className:(0,o.cn)("absolute h-8 w-8 rounded-full p-0","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!x,onClick:u,...n,children:[(0,a.jsx)(i.Z,{className:"h-4 w-4",strokeWidth:2.5}),(0,a.jsx)("span",{className:"sr-only",children:"Next slide"})]})});p.displayName="CarouselNext"},43502:function(e,t,s){s.d(t,{D:function(){return x}});var a=s(57437),l=s(2265),r=s(31047),n=s(32489),i=s(94508),o=s(62869),d=s(63409),c=s(57054),m=s(98108),u=s(71762);function x(e){let{date:t,onSelect:s,className:x,disabled:h=[],fromDate:f,toDate:p,placeholder:g="Select dates",align:b="center",showSelectedRange:j=!0}=e,[v,y]=l.useState(!1),[N,w]=l.useState(t);l.useEffect(()=>{w(t)},[t]);let C=l.useMemo(()=>({disabled:h}),[h]),D=e=>{e.stopPropagation(),w(void 0),s(void 0),y(!1)};return(0,a.jsx)("div",{className:(0,i.cn)("grid w-full h-full",x),children:(0,a.jsxs)(c.J2,{open:v,onOpenChange:e=>{e||(null==N?void 0:N.from)&&(null==N?void 0:N.to)||w(t),y(e)},children:[(0,a.jsx)(c.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{id:"date",variant:"outline",className:(0,i.cn)("w-full h-full justify-start text-left font-normal bg-transparent border-0 shadow-none transition-colors rounded-none group","hover:bg-transparent hover:text-current",!t&&"text-muted-foreground"),children:[(0,a.jsx)(r.Z,{className:"mr-2 h-4 w-4"}),(null==t?void 0:t.from)?(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:j&&t.to?(0,u.W7)(t.from,t.to):(0,u.k2)(t.from)}),(0,a.jsx)("button",{onClick:D,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded-full",children:(0,a.jsx)(n.Z,{className:"h-3 w-3 text-gray-500"})})]}):(0,a.jsx)("span",{children:(0,a.jsx)(m.Text,{children:g})})]})}),(0,a.jsxs)(c.yk,{className:"w-auto p-0 bg-white dark:bg-gray-800 shadow-lg rounded-lg border-0",align:b,children:[(0,a.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-lg text-gray-900",children:(0,a.jsx)(m.Text,{children:"Select dates"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:(0,a.jsx)(m.Text,{children:"Add your travel dates for exact pricing"})})]}),N&&(0,a.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:D,className:"text-gray-500 hover:text-gray-700",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsx)(m.Text,{children:"Clear"})]})]}),(0,a.jsx)(d.f,{initialFocus:!0,mode:"range",defaultMonth:(null==N?void 0:N.from)||(null==t?void 0:t.from)||new Date,selected:N,onSelect:e=>{w(e),s(e),j?(null==e?void 0:e.from)&&(null==e?void 0:e.to)&&setTimeout(()=>{y(!1)},150):(null==e?void 0:e.from)&&setTimeout(()=>{y(!1)},150)},numberOfMonths:2,disabled:h,fromDate:f||new Date,toDate:p,modifiers:C,modifiersStyles:{disabled:{textDecoration:"line-through",backgroundColor:"rgb(243 244 246)",color:"rgb(156 163 175)"},past:{textDecoration:"line-through",backgroundColor:"rgb(243 244 246)",color:"rgb(156 163 175)"}},className:"rounded-lg border-0 bg-white dark:bg-gray-800 p-3"})]})]})})}},26110:function(e,t,s){s.d(t,{$N:function(){return h},Be:function(){return f},Vq:function(){return o},cZ:function(){return u},fK:function(){return x},hg:function(){return d}});var a=s(57437),l=s(2265),r=s(49027),n=s(32489),i=s(94508);let o=r.fC,d=r.xz,c=r.h_;r.x8;let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});m.displayName=r.aV.displayName;let u=l.forwardRef((e,t)=>{let{className:s,children:l,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[l,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let h=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});h.displayName=r.Dx.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...l})});f.displayName=r.dk.displayName},26815:function(e,t,s){s.d(t,{_:function(){return d}});var a=s(57437),l=s(2265),r=s(6394),n=s(77712),i=s(94508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,i.cn)(o(),s),...l})});d.displayName=r.f.displayName},57054:function(e,t,s){s.d(t,{J2:function(){return i},xo:function(){return o},yk:function(){return d}});var a=s(57437),l=s(2265),r=s(27312),n=s(94508);let i=r.fC,o=r.xz,d=l.forwardRef((e,t)=>{let{className:s,align:l="center",sideOffset:i=4,...o}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsx)(r.VY,{ref:t,align:l,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})})});d.displayName=r.VY.displayName},76818:function(e,t,s){s.d(t,{g:function(){return n}});var a=s(57437),l=s(2265),r=s(94508);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});n.displayName="Textarea"},24456:function(e,t,s){s.d(t,{l:function(){return r}});var a=s(96797),l=s(2265);function r(e){let{translateText:t,currentLanguage:s,isInitialized:r}=(0,a.m)(),[n,i]=(0,l.useState)(e),[o,d]=(0,l.useState)(!1),c=(0,l.useRef)(),m=(0,l.useRef)({text:"",language:"",result:""}),u=(0,l.useMemo)(()=>e&&"string"==typeof e?e.trim():"",[e]);return(0,l.useEffect)(()=>{c.current&&clearTimeout(c.current);let a=async()=>{if(!u||0===u.length){i(e||"");return}if(!r||"en"===s){i(e);return}if(m.current.text===u&&m.current.language===s){i(m.current.result);return}d(!0);try{let e=await t(u);i(e),m.current={text:u,language:s,result:e}}catch(t){console.error("Translation error in useTranslatedText:",t),i(e)}finally{d(!1)}};return u.length<50?c.current=setTimeout(a,200):a(),()=>{c.current&&clearTimeout(c.current)}},[u,s,t,r,e]),{translatedText:n||e||"",isLoading:o}}},71762:function(e,t,s){s.d(t,{W7:function(){return r},k2:function(){return l}});var a=s(27107);function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date().getFullYear();return e.getFullYear()!==s||t?(0,a.WU)(e,"MMM dd, yyyy"):(0,a.WU)(e,"MMM dd")}function r(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=new Date().getFullYear(),r=e.getFullYear(),n=t.getFullYear();return r!==l||n!==l||s?r===n?"".concat((0,a.WU)(e,"MMM dd")," - ").concat((0,a.WU)(t,"MMM dd, yyyy")):"".concat((0,a.WU)(e,"MMM dd, yyyy")," - ").concat((0,a.WU)(t,"MMM dd, yyyy")):"".concat((0,a.WU)(e,"MMM dd")," - ").concat((0,a.WU)(t,"MMM dd"))}}}]);